# 2023.12.08
ブランチ切ったのでまずは概要把握。

いまいちイメージしづらいので、見本アプリで実際に埋め込みをやってみる。

TwitterもYoutubeもURL貼り付ければ埋め込める状態にすればいいわけだ。
TwitterのURLはコピペしたら普通に`X`じゃなくて`twitter`になってたけどこれは課題のアップデートより後にまた仕様がかわったとかか？

とにかく現状把握から始めるか。関係するモデルやビューを見てみよう。

`Embed`モデルを見てみた。`enum`にtwitterを追加するのはまず1つやらなきゃいけないことだな。

次はビューを見てみるか。

simple_formの`collection`って`collect`でもいいの？！知らんかった…。  
ほかに特に変わったところはないかな。

次、ブロックの表示パーシャル。
`_insert_block.html.slim`がブロックタイプ選択画面で、`_edit_embed.html.slim`が埋め込みメディア編集画面で、`_show_embed.html.slim`が同表示画面かな。

おおまかな実装方針としては、
- モデルの修正
- アイコンの修正
- Twitter表示用のビュー作成
って感じかな。

もうちょい細かくすると、
- [x] モデル
  - [x] enum
- [ ] ビュー
  - [ ] アイコン
    - [ ] ブロックヘッダー
    - [ ] ブロックタイプボタン
  - [x] `show_embed.html.slim`の分岐処理
  - [ ] Twitter表示用ビューの作成

こんなもんか。

モデルのenumは追加したから、ついでにロケールも追加してしまおう。

よし、次は分岐処理行くか。

OK。続いて表示用ビューの作成。まずYoutubeのをコピペして、それからTwitter埋め込みのやり方調べて修正しよう。

とりあえずビューファイル作ったけど、見本アプリのHTMLと見比べてもいまいちどうなってるのかよくわからんなあ。`iframe`ってやつがなんか関係してそう。まずこっちを調べてみるか。

インラインフレーム要素！なるほど。ページ内に別のページを埋め込むためのタグだったのか。

今日はここまで。明日は表示用ビューの作成の続きをやる。